% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/output.R
\name{plot_patch_validity}
\alias{plot_patch_validity}
\title{Plot rook-adjacency patches for a MinPatch solution and flag valid/invalid patches}
\usage{
plot_patch_validity(
  multiplier,
  multipliers,
  minpatch_results,
  pu_sf = NULL,
  return = c("plot", "counts", "patches"),
  do_snap = TRUE,
  snap_size = 1,
  eps_rel = 1e-09,
  debug = FALSE
)
}
\arguments{
\item{multiplier}{Numeric. The MinPatch multiplier to plot (must exist in `multipliers`).}

\item{multipliers}{Numeric vector of multipliers (same order as `minpatch_results`).}

\item{minpatch_results}{List. Each element contains a `$solution` sf object with column `minpatch`.}

\item{pu_sf}{sf. Planning-unit sf used to compute median PU area (defaults to Seychelles_sf if present).}

\item{return}{Character. "plot" (ggplot), "counts" (tibble), or "patches" (sf patch polygons).}

\item{do_snap}{Logical. If TRUE, snap geometries before adjacency for robustness.}

\item{snap_size}{Numeric. Grid size passed to `lwgeom::st_snap_to_grid()` (CRS units).}

\item{eps_rel}{Numeric. Relative tolerance applied to the area threshold (default 1e-9).}

\item{debug}{Logical. If TRUE, prints patch table (including diff vs threshold).}
}
\value{
ggplot object, or tibble, or sf patch polygons (see `return`).
}
\description{
A patch is a rook-connected cluster of selected planning units (edge-sharing).
A patch is "valid" if its area >= (multiplier x median PU area), with a small
numeric tolerance to avoid floating-point edge cases.
}
